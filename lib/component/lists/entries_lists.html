<div class="list-feed" ng-repeat="feed in cmp.feeds">
  <div class="feed-list-object" ng-if="cmp.hasPosts(feed.id)">
  
    <header class="title-area">
      <h1 class="feed-title">{{feed.title|sanitize}} (<unread-counter feed="{{feed.id}}"></unread-counter>)</h1>
      <div class="open-feed">
        <a href="#/feed/{{feed.id}}" class="btn btn-primary btn-sm">Read all</a>
      </div>
    </header>
    
    <article ng-class="{'unread':post.unread}" class="list-feed-post" ng-repeat="post in cmp.entries | postlist:feed.id:cmp.listLength">
      <div class="content">
        <header>
          <h1 class="post-title"><a href="#/post/{{post.id}}">{{post.title}}</a></h1>
          <time pubdate datetime="{{post.published}}">{{post.published|date:fullDate}}</time>&nbsp;<span ng-if="post.newitem && false" class="label label-danger">New</span>
        </header>
        <p class="post-summary" ng-bind-html="post.content|truncate:250:true:false" ng-click="cmp.readPost(post.id)"></p>
      </div>
      <div class="actions">
        <star starred="post.starred" class="star-action" ng-click="cmp.onStarChange(post)"></star>
      </div>
    </article>
  </div>
</div>
